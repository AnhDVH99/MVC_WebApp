@model List<ASP.NET_Core_MVC_Piacom.Models.Domain.Order>


<div class="container">
    <h1 class="mb-4 text-center">Order List</h1>

    <!-- Search Form -->
    <div class="mb-3">
        <input type="text" id="searchTerm" class="form-control" placeholder="Search by Customer Name" />
    </div>
    <!-- Container to hold the search results -->
    <div id="orderListContainer">
       
        @* This will be dynamically updated *@
        @await Html.PartialAsync("OrderListPartial", Model)
    </div>
</div>

@section Scripts {
    <script>
        $(document).ready(function () {
            // Attach event listener to the search input
            $('#searchTerm').on('input', function () {
                var searchTerm = $(this).val();


                // Make AJAX request to the OrderSearch action
                $.ajax({
                    url: '@Url.Action("OrderSearch", "Orders")',
                    type: 'GET',
                    data: { searchTerm: searchTerm },
                    success: function (result) {
                        // Update the order list container with the returned HTML
                        $('#orderListContainer').html(result);

                    },
                    error: function () {
                        alert('Failed to retrieve data.');
                    }
                });
            });
        });
    </script>
}